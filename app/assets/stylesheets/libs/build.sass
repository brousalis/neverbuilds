$encounters: #ac0f0d 
$at_wills: #29dda0
$skills: #fbcf2f
$dailys: #ff8700
.template
  margin-bottom: 30px
  .btn
    line-height: 18px !important
    border: 1px solid #000 !important
    font-weight: bold
    color: #fff
    padding: 4px 12px
    margin-top: 6px
    +buttonBackground($darkblue, $blue) 
  .button
    display: inline-block
    position: relative
    +opacity(80)
    border: 1px solid #555
    &:hover 
      &:before
        border-bottom: 4px solid #888
    .image
      +box-shadow(#{inset 0 1px 0 rgba(255, 255, 255, 0.9), 0 1px 2px rgba(0, 0, 0, 0.05)})
      background: #222
      width: 55px
      height: 55px 
      display: block
      margin: 2px
      background-size: 100% !important
    .change
      width: 100%
      height: 12px
      background: rgba(0,0,0,0.8)
      display: block
      position: absolute
      top: 0
      left: 0
      &:before
        content: ''
        position: absolute
        right: 5px
        top: 5px
        border-left: 3px solid transparent
        border-right: 3px solid transparent
        border-top: none
        border-bottom: 4px solid #444
        display: inline-block  
    &.daily 
      +background-clip(padding-box)
      +border-radius(30px)
      .image
        +border-radius(30px) 

  .meta
    .character
      height: 140px
      border-bottom: 1px solid #222
      display: block
      position: relative
      overflow: hidden
      .info
        z-index: 1
        position: absolute
        bottom: 12px
        left: 12px
        span
          margin-top: 5px
          display: block
          color: #fff
          text-transform: uppercase
          font-family: 'proxima-nova-extra-condensed'
          font-size: 26px 
          text-shadow: 0px 2px 1px #000
      .image
        height: 250px 
        width: 450px
        position: absolute
        top: -25px
        left: 50px
        display: block 
        color: #fff
        z-index: 0
        +opacity(50)
        &.drow 
          background: image-url('races/drow.png') no-repeat
          top: -10px
        &.dwarf  
          background: image-url('races/dwarf.png') no-repeat
        &.half_elf  
          background: image-url('races/half_elf.png') no-repeat
          top: -10px
        &.halfling  
          background: image-url('races/halfling.png') no-repeat
          top: -50px
        &.human  
          background: image-url('races/human.png') no-repeat
        &.tiefling  
          background: image-url('races/tiefling.png') no-repeat
        &.wood_elf  
          background: image-url('races/wood_elf.png') no-repeat 
          top: -10px

  .hud
    margin-top: 10px
    .selector
      display: none
    #hud
      padding: 5px
      margin: 0
      li
        display: inline-block
        margin-right: 30px
        &:last-child 
          margin-right: 0
        .type
          display: block
          font-size: 11px
          font-weight: bold
          color: #aaa
          text-transform: uppercase
          line-height: 22px  
          margin-bottom: 5px
        .button
          z-index: 0
          position: relative
          .image
            +box-shadow(none)
          &.active
            +opacity(100)
            .change
              &:before
                border-left: 3px solid transparent
                border-right: 3px solid transparent
                border-bottom: none
                border-top: 4px solid #888          
        .popover
          background: #000
          +border-radius(0)
          z-index: 100
          &.top
            margin-top: 1px
          .arrow
            display: none 
          .popover-content
            padding: 10px
          .button
            +opacity(80)
            .image
              background-size: 100% !important
            &:hover
              +opacity(100)
            &.hidden
              display: none
        &.at_wills
          .button.active
            border: 1px solid $at_wills
            border-top: 1px solid #000
          .popover
            border: 1px solid $at_wills
        &.encounters
          .button.active
            border: 1px solid $encounters
            border-top: 1px solid #000
          .popover
            border: 1px solid $encounters
        &.dailys
          .button.active
            border: 1px solid $dailys
          .popover
            border: 1px solid $dailys
            z-index: 1001
            &.top
              .arrow
                display: block
                &:after
                  border-top-color: $dailys
        &.skills
          .button.active
            border: 1px solid $skills
            border-top: 1px solid #000
          .popover
            border: 1px solid $skills
  
.powers
  margin: 30px 0px
  position: relative
  width: 900px
  .button
    width: 200px
    margin: 5px 5px 5px 5px
    display: block
    float: left
    background: rgba(0,0,0,0.8)
    border: 1px solid #111
    .image
      display: inline-block
      +box-shadow(none)
      float: left
      +opacity(80)
      height: 50px
      width: 50px
    &.encounter .name
      color: $encounters !important
    &.daily .name
      color: $dailys !important
    &.skill .name
      color: $skills !important
    &.at_will .name
      color: $at_wills !important  
    &:hover
      border: 1px solid #222
      .image
        +opacity(100)
    .name
      display: block 
      font-size: 11px
      font-weight: bold
      color: #aaa
      text-transform: uppercase
      line-height: normal
      margin-bottom: 5px 
      padding: 5px
      margin-left: 58px
    .ranks
      position: absolute
      bottom: 1px
      left: 58px
      padding: 5px
      .rank
        display: block
        width: 12px
        height: 12px
        background: #000
        border: 1px solid #222
        +background-clip(padding-box)
        float: left
        margin-right: 3px
        +opacity(60)
        &.on
          +opacity(100)
          border: 1px solid #333
          background: #333
        &:first-child
          background: #000 image-url('rank1_off.png') no-repeat -2px -1px
          &.on
            background: #000 image-url('rank1_on.png') no-repeat -2px -1px 
        &:first-child + .rank
          background: #000 image-url('rank2_off.png') no-repeat -2px -1px 
          &.on
            background: #000 image-url('rank2_on.png') no-repeat -2px -1px 
        &:first-child + .rank + .rank
          background: #000 image-url('rank3_off.png') no-repeat -2px -1px 
          &.on
            background: #000 image-url('rank3_on.png') no-repeat -2px -1px  
    &.daily
      +border-radius(30px 0px 0px 30px)
    &.enabled
      .image
        +opacity(100)
      &.encounter
        border: 1px solid $encounters !important
      &.daily
        border: 1px solid $dailys !important
      &.skill
        border: 1px solid $skills !important
      &.at_will
        border: 1px solid $at_wills !important 
  .content
    +clearfix
    +box-sizing(border-box)
    .left-pane
      border-right: 1px solid #222
      position: relative
      width: 655px
      float: left
      height: 500px
      overflow: scroll
      .tree
        margin-left: 4px
        .buttons
          +clearfix
        .divider
          +clearfix
          text-align: center
          width: 100%
          margin: 10px 0px
          font-size: 11px
          font-weight: bold
          text-transform: uppercase
          color: #555
          padding: 5px 0px
          line-height: 0.5
          position: relative
          display: table
          white-space: nowrap
          &:before, &:after
            display: table-cell
            content: ""
            border-top: 1px solid #0d0d0d
            width: 45%
    .right-pane
      float: left
      background: #000
      width: 25%
