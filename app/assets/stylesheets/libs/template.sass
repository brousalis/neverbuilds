.template
  margin-bottom: 30px
  .btn
    line-height: 18px !important
    border: 1px solid #000 !important
    font-weight: bold
    color: #fff
    padding: 4px 12px
    margin-top: 6px
    +buttonBackground($darkblue, $blue) 
  .button
    display: inline-block
    position: relative
    +opacity(80)
    border: 1px solid #555
    &:hover 
      &:before
        border-bottom: 4px solid #888
    .image
      +box-shadow(#{inset 0 1px 0 rgba(255, 255, 255, 0.9), 0 1px 2px rgba(0, 0, 0, 0.05)})
      background: #222
      width: 55px
      height: 55px 
      display: block
      margin: 2px
      background-size: 100% !important
    .change
      width: 100%
      height: 12px
      background: rgba(0,0,0,0.8)
      display: block
      position: absolute
      top: 0
      left: 0
      &:before
        content: ''
        position: absolute
        right: 5px
        top: 5px
        border-left: 3px solid transparent
        border-right: 3px solid transparent
        border-top: none
        border-bottom: 4px solid #444
        display: inline-block  
    &.daily 
      +background-clip(padding-box)
      +border-radius(30px)
      .image
        +border-radius(30px) 

  .meta
    .character
      height: 140px
      border-bottom: 1px solid #222
      display: block
      position: relative
      overflow: hidden
      &:hover
        cursor: pointer
      &:hover .info span i.icon 
        display: inline-block
      .info
        z-index: 1
        position: absolute
        bottom: 12px
        left: 12px
        span
          margin-top: 5px
          display: block
          color: #fff
          text-transform: uppercase
          font-family: 'proxima-nova-extra-condensed'
          font-size: 26px 
          text-shadow: 0px 2px 1px #000
          i.icon
            display: none
            margin-left: 10px
            margin-top: 8px
            +opacity(30)
      .image
        height: 250px 
        width: 450px
        position: absolute
        top: -25px
        left: 50px
        display: block 
        color: #fff
        z-index: 0
        +opacity(50)
        &.drow 
          background: image-url('races/drow.png') no-repeat
          top: -10px
        &.dwarf  
          background: image-url('races/dwarf.png') no-repeat
        &.half_elf  
          background: image-url('races/half_elf.png') no-repeat
          top: -10px
        &.halfling  
          background: image-url('races/halfling.png') no-repeat
          top: -50px
        &.human  
          background: image-url('races/human.png') no-repeat
        &.tiefling  
          background: image-url('races/tiefling.png') no-repeat
        &.wood_elf  
          background: image-url('races/wood_elf.png') no-repeat 
          top: -10px

  .hud
    margin-top: 10px
    text-align: center
    .selector
      display: none
    #hud
      padding: 5px
      margin: 0
      li
        display: inline-block
        margin-right: 30px
        &:last-child 
          margin-right: 0
        .type
          display: block
          font-size: 11px
          font-weight: bold
          color: #aaa
          text-transform: uppercase
          text-align: left
          line-height: 22px  
          margin-bottom: 5px
        .button
          z-index: 10
          position: relative
          .image
            +box-shadow(none)
          &.active
            +opacity(100)
            z-index: 100
            .change
              &:before
                border-left: 3px solid transparent
                border-right: 3px solid transparent
                border-bottom: none
                border-top: 4px solid #888          
        .popover
          background: #000
          +border-radius(0)
          z-index: 90
          &.top
            margin-top: 1px
          .arrow
            display: none 
          .popover-content
            padding: 10px
          .button
            +opacity(80)
            .image
              +box-shadow(#{inset 0 1px 2px rgba(255,255,255,0.4),inset 0 1px 10px rgba(0,0,0,0.2)})
              background-size: 100% !important
            &:hover
              +opacity(100)
            &.hidden
              display: none
        &.at_wills
          .button.active
            border: 1px solid $at_wills
            border-top: 1px solid #000
          .popover
            border: 1px solid $at_wills
        &.encounters
          .button.active
            border: 1px solid $encounters
            border-top: 1px solid #000
          .popover
            border: 1px solid $encounters
        &.dailys
          .button.active
            border: 1px solid $dailys
          .popover
            border: 1px solid $dailys
            z-index: 1001
            &.top
              .arrow
                display: block
                &:after
                  border-top-color: $dailys
        &.skills
          .button.active
            border: 1px solid $skills
            border-top: 1px solid #000
          .popover
            border: 1px solid $skills
  
.powers
  margin: 30px auto
  position: relative
  width: 900px
  +transition(all 0.3s linear)
  .content
    background: #191919
  &.expanded
    .left-pane
      height: 1060px !important
  .button
    width: 200px
    margin: 5px 5px 5px 5px
    display: block
    float: left
    background: rgba(0,0,0,0.3)
    border: 1px solid #000
    -moz-user-select: none
    -khtml-user-select: none
    -webkit-user-select: none
    user-select: none
    .image
      display: inline-block
      +box-shadow(#{0 2px 6px rgba(0,0,0,0.4) inset, 0 1px 2px rgba(0,0,0,0.4) inset})
      float: left
      +opacity(80)
      height: 50px
      width: 50px
      margin: 0
      border-right: 1px solid #000
    &.encounter .name
      color: $encounters !important
    &.daily .name
      color: $dailys !important
    &.skill .name
      color: $skills !important
    &.at_will .name
      color: $at_wills !important  
    &:hover
      .image
        +opacity(100)
    $left: 55px
    .name
      display: block 
      font-size: 11px
      font-weight: bold
      color: #aaa
      text-transform: uppercase
      line-height: normal
      margin-bottom: 5px 
      padding: 2px 5px
      margin-left: $left
    .ranks
      position: absolute
      bottom: -2px
      left: $left
      padding: 5px
      .rank
        display: block
        width: 12px
        height: 12px
        background: #000
        border: 1px solid #222
        +background-clip(padding-box)
        float: left
        margin-right: 3px
        +opacity(80)
        &.on
          +opacity(100)
          border: 1px solid #333
          background: #333
        &:first-child
          background: #000 image-url('rank1_off.png') no-repeat -2px -1px
          &.on
            background: #000 image-url('rank1_on.png') no-repeat -2px -1px 
        &:first-child + .rank
          background: #000 image-url('rank2_off.png') no-repeat -2px -1px 
          &.on
            background: #000 image-url('rank2_on.png') no-repeat -2px -1px 
        &:first-child + .rank + .rank
          background: #000 image-url('rank3_off.png') no-repeat -2px -1px 
          &.on
            background: #000 image-url('rank3_on.png') no-repeat -2px -1px  
    &.daily
      +border-radius(30px 0px 0px 30px)
    &.enabled
      +box-shadow(#{inset 0 1px 2px rgba(255,255,255,0.1),inset 0 1px 10px rgba(0,0,0,0.2)})
      .image
        +opacity(100)
      &.encounter
        border: 1px solid $encounters !important
      &.daily
        border: 1px solid $dailys !important
      &.skill
        border: 1px solid $skills !important
      &.at_will
        border: 1px solid $at_wills !important 
  .content
    +clearfix
    +box-sizing(border-box)
    overflow: hidden
    .left-pane
      border-right: 1px solid #222
      height: 460px
      position: relative
      width: 655px
      float: left
      .content
        padding: 0
        margin: 0
        border: none
        @include box-shadow(none)
        @include border-radius(0)
        margin-left: 4px
        .buttons
          +clearfix
        .divider
          +clearfix
          text-align: center
          width: 100%
          margin: 10px 0px
          font-size: 11px
          font-weight: bold
          text-transform: uppercase
          color: #fff
          padding: 5px 0px
          line-height: 0.5
          position: relative
          display: table
          white-space: nowrap
          &:before, &:after
            display: table-cell
            content: ""
            border-top: 1px solid #222
            width: 45%
    .right-pane
      float: left
      width: 239px
      position: relative
      font-size: 13px
      border-left: 1px solid #000
      margin-bottom: -1000px
      padding-bottom: 1000px
      background: rgba(0,0,0,0.4)
      .icon
        display: none
        border: 1px solid #000
        background: #222
        float: left
        width: 65px
        height: 65px 
        display: block
        padding: 1px
        background-size: 100% !important  
        +box-shadow(#{inset 0 1px 2px rgba(255,255,255,0.4),inset 0 1px 10px rgba(0,0,0,0.2)})
        +border-radius(4px)
      .details
        padding: 8px
        line-height: 16px
        .key, .level, .paragon
          display: none
        .name
          display: block  
          width: 143px
          float: left
          margin-left: 10px
          font-size: 14px
          font-weight: bold
          color: #fff
          text-transform: uppercase
          &.encounter
            color: $encounters !important
          &.daily
            color: $dailys !important
          &.skill
            color: $skills !important
          &.at_will
            color: $at_wills !important   
        .type
          display: block  
          float: left
          width: 143px
          margin-left: 10px
          font-size: 14px
          font-weight: bold
          &.encounter
            color: $encounters !important
          &.daily
            color: $dailys !important
          &.skill
            color: $skills !important
          &.at_will
            color: $at_wills !important  
        .range, .cooldown
          display: block  
          width: 143px
          float: left
          margin-left: 10px
          font-size: 14px
          font-weight: normal
          em
            font-style: normal
        .cooldown
          em
            color: green
            font-weight: bold
            font-style: normal 
        .desc
          float: left
          padding-left: 40px
          margin-top: 10px
          display: block 
          line-height: normal
          background: image-url('big_rank1_off.png') no-repeat 2px 5px
          position: relative
          &.on
            background: image-url('big_rank1_on.png') no-repeat 2px 5px
            &:before
              border: 1px solid #333
          &:before
            content: ''
            border: 1px solid #222
            width: 24px
            height: 22px
            display: block
            left: 0px
            top: 3px
            position: absolute 
        .bonus
          margin-top: 10px
          padding-left: 40px
          line-height: normal
          display: block
          float: left
          em 
            color: #0078ff
            font-weight: bold
            font-style: normal
        .rank_2, .rank_3
          margin-top: 20px
          display: block
          width: 185px
          padding-left: 40px
          height: 30px
          position: relative
          float: left
          &:before
            content: ''
            border: 1px solid #222
            width: 24px
            height: 22px
            display: block
            left: 0px
            top: -2px
            position: absolute
          em
            color: $skills
            font-weight: bold
            font-style: normal 
          &.on
            &:before
              border: 1px solid #333 
        .rank_2
          background: image-url('big_rank2_off.png') no-repeat 2px 0px
          &.on
            background: image-url('big_rank2_on.png') no-repeat 2px 0px
        .rank_3
          background: image-url('big_rank3_off.png') no-repeat 2px 0px
          &.on
            background: image-url('big_rank3_on.png') no-repeat 2px 0px

.feats
  width: 785px
  margin: 30px auto
  margin-bottom: 10px
  .content
    position: relative
    .meta
      position: absolute
      top: 380px
      left: 44px
      span 
        padding: 5px 8px
        background: #000
        margin-bottom: 5px
        margin-right: 10px
        &.human 
          background: none
          display: block
          margin-top: 8px
          text-align: center
        em
          font-style: normal
          font-weight: bold
    .paragon
      width: 320px
      height: 170px
      position: absolute
      top: 0
      .class
        position: absolute
        top: 35%
        text-transform: uppercase
        background: #000
        font-size: 12px
        font-weight: bold
        text-align: center
        display: block
        padding: 2px 6px
      .image
        position: absolute
        width: 110px
        height: 200px
        background-size: 110px !important
        left: 50%
        margin-left: -52px
        top: 10px
        +opacity(80)
        &.image-trickster_rogue
          background: image-url('classes/big_trickster_rogue.png') no-repeat
        &.image-devoted_cleric
          background: image-url('classes/big_devoted_cleric.png') no-repeat
        &.image-guardian_fighter
          background: image-url('classes/big_guardian_fighter.png') no-repeat
        &.image-control_wizard
          background: image-url('classes/big_control_wizard.png') no-repeat
        &.image-great_weapon_fighter
          background: image-url('classes/big_great_weapon_fighter.png') no-repeat  
  .feat-list
    padding-top: 40px
    padding-bottom: 0px
    +clearfix
    position: relative
    background: image-url('feat_arrows.png') no-repeat
    background-position: 45% 55%
    div
      margin-bottom: 33px
      +clearfix
      width: 100%
      position: relative
      margin-top: 5px
      -moz-user-select: none
      -khtml-user-select: none
      -webkit-user-select: none
      user-select: none  
      &:last-child
        margin-bottom: 20px
      ul
        +clearfix
        margin: 0
        position: relative
        li
          list-style: none
          float: left
          display: inline
          &.sect
            position: absolute
            top: -20px
            font-size: 11px
            left: 0
            font-weight: bold
            color: #aaa
            +opacity(20)
            text-transform: uppercase
            text-align: left
            line-height: 22px  
            margin-bottom: 10px
          &.enabled
            .button
              +opacity(30)
              &:hover
                +opacity(50)
              &.on
                +opacity(100)    
          .button
            margin-bottom: 1px
            position: relative
            +opacity(10)
            .points
              position: absolute
              bottom: -7px
              left: 10px
              background: #000
              padding: 0px 5px
              font-size: 12px
              font-weight: bold
              color: #fff
              em
                font-style: normal
            .image
              bottom: 0
              +box-shadow(#{inset 0 1px 2px rgba(255,255,255,0.4),inset 0 1px 10px rgba(0,0,0,0.2)})
              width: 44px
              height: 44px 
      &.heroic
        position: absolute
        width: 275px
        top: 160px
        left: 30px
        z-index: 1000
        ul
          width: 290px
          li
            width: 25%
      &:not(.heroic)
        ul
          float: right
          width: 375px
          li
            width: 18%
      &.top
        margin-top: 25px

